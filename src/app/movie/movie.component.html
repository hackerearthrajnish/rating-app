<app-header></app-header>

<div class="movie-container">
    <div class="top">
        <div class="left">
            <div class="name">{{movieDetails?.name}}</div>
            <div class="rating">
                <app-star-rating [rating]="movieDetails?.rating" [isReadOnly]="true"></app-star-rating>
                <span>{{movieDetails?.rating}}</span>
            </div>
            <div class="cover">
                <img [src]="movieDetails?.cover" alt="" class="img=fluid">
            </div>
        </div>
        <div class="right">
            <div class="title">Rate this Movie</div>
            <div class="rating-form">
                <div class="form-group">
                    <label for="uname" class="">Name</label>
                    <input type="text" id="uname" class="form-control">
                </div>
                <div class="write-rating">
                    Rating &nbsp;
                    <app-star-rating [rating]="0" [isReadOnly]="false"></app-star-rating>
                </div>
                <div class="form-group">
                    <label for="review" class="">Review</label>
                    <textarea name="review" id="review" cols="30" rows="3" class="form-control"></textarea>
                </div>
                <button class="btn btn-dark my-2">Submit</button>
            </div>
        </div>
    </div>
    <div class="bottom">

        <div class="title">Review</div>
        <hr>
        <div class="reviews" *ngIf="movieDetails?.reviews.length > 0">


            <div class="review-details" *ngFor="let review of movieDetails?.reviews">
                <div class="">
                    <h4>{{review.author}}</h4>
                    <span>{{review.published_on | date}}</span>
                </div>
                <div class="">
                    <div>{{review.review}}</div>
                    <div class="review-rating">
                        <app-star-rating [rating]="review.rating" [isReadOnly]="true"></app-star-rating>

                    </div>

                </div>
            </div>

        </div>
        <div class="no-review" *ngIf="movieDetails?.reviews.length === 0">
            <h6>No Review available for this movie</h6>
        </div>
    </div>

</div>